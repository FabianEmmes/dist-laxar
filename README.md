# LaxarJS

> Building large applications is hard, so don't do that!

This is the _distribution bundle_ for the [LaxarJS core](https://github.com/LaxarJS/laxar). Check out the [LaxarJS website](http://www.laxarjs.org) if you are not familiar with LaxarJS.


## Get Started using the Template
 
The recommended, easiest way to get started is by using [grunt-init](http://gruntjs.com/project-scaffolding) and the [LaxarJS application template](https://github.com/LaxarJS/grunt-init-laxar-application), as described in the [LaxarJS _Getting Started_ guide](https://github.com/LaxarJS/laxar/blob/master/README.md#getting-started).


## Manually using Bower and RequireJS

This bundle contains two different builds of LaxarJS (plus their minified counterparts), and one extra build that is aimed towards testing.


### LaxarJS with Dependencies

The file `dist/laxar.with-deps.js` contains the LaxarJS sources, as well as the JSON schema libraries [jjv](https://github.com/acornejo/jjv) and [jjve](https://github.com/silas/jjve), which are used by LaxarJS internally. Like most widgets written for it, LaxarJS also depends on AngularJS, which is not bundled, so that users can load and configure it separately (e.g. from a CDN). This also allows users to decide if jQuery should be configured as an AngularJS dependency, which is sometimes required so that `ng.element` returns _"real"_ jQuery objects.


Install LaxarJS and AngularJS using _bower:_

```sh
bower install --save laxar
bower install --save angular angular-sanitize angular-route angular-mocks
```

Instead of using bower, you can also fetch AngularJS directly from a CDN. Refer the RequireJS and AngularJS documentation for details.


Configure your application for loading with _RequireJS_, by adding the _require_configuration.js:_ 

```javascript

var require = {
   baseUrl: 'bower_components',
   paths: {
      // LaxarJS itself
      'laxar': 'laxar/dist/laxar.with-deps',
      // LaxarJS version used by widget spec tests:
      'laxar/laxar_testing': 'dist-laxar/dist/laxar_testing',
     
      // Dependencies used by both widgets, and LaxarJS
      requirejs: 'requirejs/require',
      text: 'requirejs-plugins/lib/text',
      json: 'requirejs-plugins/src/json',
      angular: 'angular/angular',
      'angular-mocks': 'angular-mocks/angular-mocks',
      'angular-route': 'angular-route/angular-route',
      'angular-sanitize': 'angular-sanitize/angular-sanitize'

      // Logical application parts, usually ok like this:
      'laxar-path-root': '..',
      'laxar-path-pages': '../application/pages',
      'laxar-path-flow': '../application/flow/flow.json',
      'laxar-path-layouts': '../application/layouts',
      'laxar-path-widgets': '../includes/widgets',
      'laxar-path-themes': '../includes/themes',

      // Will be generated by grunt-laxar
      'laxar-application-dependencies': '../var/static/laxar_application_dependencies',


      // 3rd party libs used by your widgets and controls:
      // ...
  },
  packages: [
     // needed for generated widget-dependencies to work:
     {
        name: 'laxar-application',
        location: '..',
        main: 'init'
     }
  ]
  
};

```

If you would like to use a different `baseUrl` setting, you have to adjust the paths accordingly. If using a separate script tag to load AngularJS from a CDN, its `path` have to be configured as `empty:` instead.


### LaxarJS without Dependencies

If you use _jjv/jjve_ within you widgets, you may want to install these dependencies separately and only load LaxarJS itself. In this case, the following RequiresJS configuration must be added:

```javascript
   paths: {
      // ...see above...
      jjv: 'jjv/lib/jjv',
      jjve: 'jjve/jjve'
   }
```
